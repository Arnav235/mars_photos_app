{"version":3,"sources":["components/Navbar.jsx","components/Sidebar.jsx","components/Gallery.jsx","components/Footer.jsx","screens/Home.jsx","App.jsx","index.jsx"],"names":["Navbar","date","updateDate","mostRecentDate","className","onClick","window","location","reload","action","onSubmit","e","preventDefault","parts","target","value","match","length","dateSubmitObj","Date","minDate","parse","maxDate","console","log","year","getFullYear","month","getMonth","toString","slice","getDate","type","defaultValue","Sidebar","updateCategory","picData","chosenCategory","picDataKeys","Object","keys","i","includes","push","splice","map","category","index","sidebar","display_category","words","split","toUpperCase","substr","join","Gallery","pictureData","pictureLinks","undefined","link","href","url","src","alt","width","height","score","JSON","stringify","substring","Footer","Home","useState","setPicData","setCategory","setMostRecentDate","setDate","updatedCategory","useEffect","a","axios","get","defaultDate","post","earth_date","data","initial_fetch","fetchData","newDate","recentDate","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0c3a398b.chunk.js","sourcesContent":["import React from \"react\";\n\n// renders a navbar which shows the date and the project name(Rovr)\nfunction Navbar({date, updateDate, mostRecentDate}) {\n\n  // function to handle when the user submits a date\n  const handleSubmit = (e) => {\n    e.preventDefault()\n\n    // here we split the date string into year, month and date\n    let parts = e.target[0].value.match(/(\\d+)/g)\n\n    // if the regex obtains more or less than 3 different parts, or any of the parts are 0, then the string\n    // is not formatted correctly\n    if (parts.length !== 3) {console.log(\"The inputted date was not formatted correctly\"); return} \n    if (parts[0] === 0 || parts[1] === 0 || parts[2] === 0) {console.log(\"The inputted date was not formatted correctly\"); return}\n\n    const dateSubmitObj = new Date(parts[0], parts[1]-1, parts[2])\n    const minDate = Date.parse(\"2021-06-01\")\n    const maxDate = Date.parse(mostRecentDate)\n\n    if (dateSubmitObj < minDate || dateSubmitObj > maxDate) {\n      console.log(\"The database did not store pictures for that date. The earliest date for which there is data is '2021-06-01', and the latest is \" + mostRecentDate)\n    } else {\n      let year = dateSubmitObj.getFullYear()\n      let month = ( \"0\" + (dateSubmitObj.getMonth() +1).toString() ).slice(-2) // we ensure that the number has 2 digits\n      let date = (\"0\" + dateSubmitObj.getDate().toString()).slice(-2) \n      updateDate(`${year}-${month}-${date}`)\n    }\n  }\n\n  return (\n    <div className=\"flex justify-between\">\n      <h1\n        className=\"text-4xl font-bold cursor-pointer\"\n        onClick={() => window.location.reload()}\n      >\n        Rovr\n      </h1>\n        <form action=\"\" className=\"text-2xl font-bold\" onSubmit={handleSubmit}>\n          Date: <input type=\"text\" className=\"font-bold\" defaultValue={date}></input>\n        </form>\n    </div>\n  );\n}\n\nexport default Navbar;\n","import React from \"react\";\n\n//dynamically gets the picture data keys and renders them as sidebar categories\nfunction Sidebar({ updateCategory, picData, chosenCategory}) {\n\n  // Here we re-order the keys of picData so that all of the \"Top20\" keys are at the end\n  let picDataKeys = Object.keys(picData)\n  let i = 0\n  while (i < Object.keys(picData).length - 4){\n    if (picDataKeys[i].includes(\"_\")){\n      picDataKeys.push(picDataKeys[i])\n      picDataKeys.splice(i, 1)\n    } else {i ++}\n  }\n\n  return (\n    <div className=\"flex flex-col mt-10 text-lg\">\n      {picDataKeys.map((category, index) => {\n        let sidebar = \"\"\n        if (category === chosenCategory) {sidebar = \"sidebar\"}\n        let display_category = category\n        \n        // If the category is one of the top20 categories, then we reformat the text so it looks better\n        if (category.includes(\"_\")){\n          const words = category.split(\"_\")\n          for (let i = 0; i < words.length; i++){\n            words[i] = words[i][0].toUpperCase() + words[i].substr(1) // capitalize the start of each word\n          }\n          if (words.includes(\"Month\")){\n            words.splice(2, 0, \"of the\")\n          }\n          display_category = words.join(\" \")\n        }\n\n        return (\n          <p\n            className= {\"mt-10 cursor-pointer \" + sidebar}\n            onClick={() => updateCategory(category)}\n            key={index}\n          >\n            {display_category}\n          </p>\n        )\n      })}\n    </div>\n  );\n}\n\nexport default Sidebar;","import React from \"react\";\n\n// takes a certain category and renders an image given an image link in the array\nfunction Gallery({ pictureData, category }) {\n  let pictureLinks = undefined\n  if (category in pictureData) {pictureLinks = pictureData[category]}\n  else {pictureLinks = pictureData[\"MAST_top20_overall\"]}\n\n  return (\n    <div className=\"w-full ml-10 pt-5 flex items-center justify-center flex-wrap\">\n      {pictureLinks.map((link, index) => {\n        return (\n          <div className=\"flex flex-col imgContainer\" key={index}>\n            <a href={typeof link === \"string\" ? link : link.url}>\n              <img\n                className=\"pl-3 pt-3\"\n                src={typeof link === \"string\" ? link : link.url}\n                alt=\"\"\n                width=\"200\"\n                height=\"200\"\n              />\n            </a>\n            {link.date && (<p>Date: {link.date}</p>)}\n            {link.score && (<p>Score: {(JSON.stringify(link.score)).substring(0, 5)}</p>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default Gallery;\n","import React from \"react\";\n\n//renders a footer which goes back to the first category or reloads the page if needed\nfunction Footer({ updateCategory, picData }) {\n  return (\n    <div className=\"flex p-10 justify-between fixed left-0 bottom-0 w-screen h-10\">\n      <p\n        className=\"text-xl font-bold cursor-pointer\"\n        onClick={() => updateCategory(Object.keys(picData)[0])}\n      >\n        Home\n      </p>\n      <p\n        className=\"text-xl font-bold cursor-pointer\"\n        onClick={() => window.location.reload()}\n      >\n        Refresh\n      </p>\n    </div>\n  );\n}\n\nexport default Footer;\n","import React, { useState, useEffect } from \"react\";\nimport Navbar from \"../components/Navbar\";\nimport Sidebar from \"../components/Sidebar\";\nimport Gallery from \"../components/Gallery\";\nimport Footer from \"../components/Footer\";\n\nimport axios from \"axios\";\n\n//home screen when the user enters\nfunction Home() {\n  const [picData, setPicData] = useState(null);\n  const [category, setCategory] = useState(null);\n  const [mostRecentDate, setMostRecentDate] = useState(null)\n  const [date, setDate] = useState(\"\")\n  const updateCategory = (updatedCategory) => {\n    setCategory(updatedCategory);\n  };\n  const updateDate = (newDate) => {\n    setDate(newDate);\n  };\n\n  useEffect(() => {\n    const initial_fetch = async () => {\n\n      // Getting the most recent date for which there is data available\n      const defaultDate = await axios.get(\n          \"https://us-central1-mars-photos-318319.cloudfunctions.net/get_mars_photos\"\n        );\n      // Getting picture data for that date\n      const pictureData = await axios.post(\n        \"https://us-central1-mars-photos-318319.cloudfunctions.net/get_mars_photos\",\n        { earth_date: defaultDate.data} \n      )\n        \n      // setting the state variables accordingly\n      setPicData(pictureData.data)\n      setCategory(\"MAST_top20_overall\")\n      setDate(defaultDate.data)\n      setMostRecentDate(defaultDate.data)\n    }\n    initial_fetch()\n    }, [])\n\n  // this useEffect is triggered whenever the date variable changes\n  useEffect(() => {\n    const fetchData = async () => {\n    \n      // getting picture data\n      const pictureData = await axios.post(\n        \"https://us-central1-mars-photos-318319.cloudfunctions.net/get_mars_photos\",\n        { earth_date: date} \n      )\n\n      setPicData(pictureData.data)\n\n    };\n    fetchData();\n  }, [date]);\n\n  return (\n    <div className=\"bg-yellow-100 min-h-screen flex flex-col font-mono\">\n      <div className=\"flex flex-col p-10\">\n        <Navbar updateDate={updateDate} date={date} recentDate={mostRecentDate}/>\n        <div className=\"flex\">\n          {picData !== null && category !== null ? (\n            <>\n              <Sidebar updateCategory={updateCategory} picData={picData} chosenCategory={category} />\n              <Gallery pictureData={picData} category={category} />\n              <Footer updateCategory={updateCategory} picData={picData} />\n            </>\n          ) : (\n            <div className=\"loader-div\">\n              <div className=\"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-64 w-64\" />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n","import \"./App.css\";\nimport Home from \"./screens/Home\";\n\n//renders home screen only\nfunction App() {\n  return <Home />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\n//renders single app component in root\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}